objTypes["blackline"]={create:function(e){return{obj:{type:"blackline",p1:e,p2:graphs.point(e.x+gridSize,e.y)},draggingPart:{part:2}}},draw:function(e,t){var n=t.getContext("2d");n.strokeStyle="rgb(0,0,0)";n.beginPath();n.moveTo(e.p1.x,e.p1.y);n.lineTo(e.p2.x,e.p2.y);n.stroke()},move:function(e,t,n){e.p1.x=e.p1.x+t;e.p1.y=e.p1.y+n;e.p2.x=e.p2.x+t;e.p2.y=e.p2.y+n;return e},clicked:function(e,t){if(mouseOnPoint(t,e.p1)){return{draggingPart:{part:1}}}if(mouseOnPoint(t,e.p2)){return{draggingPart:{part:2}}}if(mouseOnSegment(t,e)){return{draggingPart:{part:0,mouse1:t}}}return false},dragging:function(e,t,n){if(n.part==1){e.p1=t;return{obj:e}}if(n.part==2){e.p2=t;return{obj:e}}if(n.part==0){var r=n.mouse1.x-t.x;var i=n.mouse1.y-t.y;e.p1.x=e.p1.x-r;e.p1.y=e.p1.y-i;e.p2.x=e.p2.x-r;e.p2.y=e.p2.y-i;return{obj:e,draggingPart:{part:0,mouse1:t}}}},rayIntersection:function(e,t){var n=graphs.intersection(graphs.line(t.p1,t.p2),graphs.line(e.p1,e.p2));if(graphs.length_segment(graphs.segment(n,e.p1))+graphs.length_segment(graphs.segment(n,e.p2))-graphs.length_segment(e)<1e-7&&(graphs.length_segment(graphs.segment(n,t.p1))+graphs.length_segment(graphs.segment(n,t.p2))-graphs.length_segment(t)<1e-7||graphs.length_segment(graphs.segment(n,t.p1))>graphs.length_segment(graphs.segment(n,t.p2)))){return n}},shot:function(e,t){}}
